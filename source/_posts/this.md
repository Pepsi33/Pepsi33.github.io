---
title: this
date: 2017-11-09 15:25:05
tags: ["javascript","YDKJS"]
categories: 学习
---

this 不是编写时绑定，而是运行时绑定。它依赖于函数调用的上下文条件。this 绑定与函数声明的位置没有任何关系，而与函数被调用的方式紧密相连。

当一个函数被调用时，会建立一个称为执行环境的活动记录。这个记录包含函数是从何处（调用栈 —— call-stack）被调用的，函数是 如何 被调用的，被传递了什么参数等信息。这个记录的属性之一，就是在函数执行期间将被使用的 this 引用。

> **this 实际上是在函数被调用时建立的一个绑定，它指向 什么 是完全由函数被调用的调用点来 (Call-site)决定的。**

> 考虑 **调用栈（call-stack）** （使我们到达当前执行位置而被调用的所有方法的堆栈）是十分重要的。我们关心的调用点就位于当前执行中的函数 之前 的调用。

当在函数前面被加入 new 调用时，也就是构造器调用时，下面这些事情会自动完成：

- 一个全新的对象会凭空创建（就是被构建）
- 这个新构建的对象会被接入原形链（[[Prototype]]-linked）
- 这个新构建的对象被设置为函数调用的 this 绑定
- 除非函数返回一个它自己的其他 对象，否则这个被 new 调用的函数将 自动 返回这个新构建的对象。

var ø = {};
